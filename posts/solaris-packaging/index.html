<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="Solaris Package creation with relocation support" /><meta name="author" content="Bikramjeet Singh" /><meta property="og:locale" content="en" /><meta name="description" content="Creating a Solaris package to ship your application to your customer or user. Making it relocatable so the user can choose to install at any location." /><meta property="og:description" content="Creating a Solaris package to ship your application to your customer or user. Making it relocatable so the user can choose to install at any location." /><link rel="canonical" href="https://blogs.bikramjs.in/posts/solaris-packaging/" /><meta property="og:url" content="https://blogs.bikramjs.in/posts/solaris-packaging/" /><meta property="og:site_name" content="Bikramjeet Singh" /><meta property="og:image" content="https://blogs.bikramjs.in/assets/img/headers/solaris-10.png" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2013-03-13T08:00:00+05:30" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://blogs.bikramjs.in/assets/img/headers/solaris-10.png" /><meta property="twitter:title" content="Solaris Package creation with relocation support" /><meta name="twitter:site" content="@bikram990" /><meta name="twitter:creator" content="@https://twitter.com/bikram990" /><meta name="google-site-verification" content="68w0jTUv9wKPY0qAAHw0OkALHv5UCZdkZ2jv7PirDrc" /><meta name="msvalidate.01" content="5C1D36025597B9D33CC34142BE0DF834" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Bikramjeet Singh","url":"https://blogs.bikramjs.in/"},"dateModified":"2025-07-19T10:00:26+05:30","datePublished":"2013-03-13T08:00:00+05:30","description":"Creating a Solaris package to ship your application to your customer or user. Making it relocatable so the user can choose to install at any location.","headline":"Solaris Package creation with relocation support","image":"https://blogs.bikramjs.in/assets/img/headers/solaris-10.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://blogs.bikramjs.in/posts/solaris-packaging/"},"url":"https://blogs.bikramjs.in/posts/solaris-packaging/"}</script><title>Solaris Package creation with relocation support | Bikramjeet Singh</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Bikramjeet Singh"><meta name="application-name" content="Bikramjeet Singh"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=true" ></script> <script defer src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon='{"token": "635e2d7e1ab649acb4116a66f454351f"}' ></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/img/avatar.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">Bikramjeet Singh</a><p class="site-subtitle fst-italic mb-0">Software Developer</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/bikram990" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://www.linkedin.com/in/bikram990/" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="https://stackoverflow.com/users/1578528/bikram990" aria-label="stack-overflow" target="_blank" rel="noopener noreferrer" > <i class="fab fa-stack-overflow"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>Solaris Package creation with relocation support</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>Solaris Package creation with relocation support</h1><p class="post-desc fw-light mb-4">Creating a Solaris package to ship your application to your customer or user. Making it relocatable so the user can choose to install at any location.</p><div class="post-meta text-muted"> <span> Posted <time data-ts="1363141800" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Mar 13, 2013 </time> </span> <span> Updated <time data-ts="1752899426" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Jul 19, 2025 </time> </span><div class="mt-3 mb-3"> <a href="/assets/img/headers/solaris-10.png" class="popup img-link preview-img shimmer"><img src="/assets/img/headers/solaris-10.png" alt="Preview Image" width="1200" height="630" loading="lazy"></a></div><div class="d-flex justify-content-between"> <span> By <em> <a href="https://blogs.bikramjs.in/">Bikramjeet Singh</a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="1007 words" > <em>5 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">Solaris Package creation with relocation support</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">Contents</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">Solaris Package creation with relocation support</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><h2 id="background"><span class="me-2">Background</span><a href="#background" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>I was working on a application which was ready to be shipped to the customer. We wanted to ship the application in such a way that its easier for the user to install. We started evaluating different ways to ship the application. After experiencing the Portable applications on Windows and the zip/dmg way of App delievery in macOS (formally OS X), the first option which came to everybody’s mind was to create a zip of our application.</p><p>The advantage of zip was that the user was able to download the zip from our website and extract it on their machine to install the application.</p><p>As our application development progressed we realized that zipping the application with a README file is not enough. Testers were frequently missing some or the other step and running into installation failures. We decided to add a small script which would automate the process of installing the application. It worked great till we had to work with Testers who were not familiar with installation process.</p><p>Finally we decided to create a Solaris Package so the Testers and eventually our Customer/User could easily install the application and find help onliine. Solaris Packages were meeting all our requirements like it has a dependency management, it can be easily installed/uninstalled and it has a help system. Apart from this it gave us the freedom of adding various scripts to handle the installation process at different stages.</p><h2 id="creating-solaris-package"><span class="me-2">Creating Solaris Package</span><a href="#creating-solaris-package" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Solaris Packages can be created in 4 simple steps listed below:</p><ol><li>Create working space where we will be creating our package.<div class="language-sh highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">mkdir</span> /tmp/myapp <span class="o">&amp;&amp;</span> <span class="nb">cd</span> /tmp/myapp
<span class="nb">export </span><span class="nv">MYAPP_PACKAGE_DIR</span><span class="o">=</span>/tmp/myapp
</pre></table></code></div></div><li>Create a <code class="language-plaintext highlighter-rouge">pkginfo</code> file for information about your package. Check <a href="https://docs.oracle.com/cd/E86824_01/html/E54775/pkginfo-4.html#REFMAN4pkginfo-4">here</a> for more info on <code class="language-plaintext highlighter-rouge">pkginfo</code> file.<div class="language-sh highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="nv">PKG</span><span class="o">=</span>&lt;pkg&gt;
<span class="nv">NAME</span><span class="o">=</span>&lt;pkg&gt;
<span class="nv">VERSION</span><span class="o">=</span>&lt;ver&gt;
<span class="nv">ARCH</span><span class="o">=</span>&lt;<span class="nb">arch</span><span class="o">&gt;</span>
<span class="nv">CLASSES</span><span class="o">=</span>none
<span class="nv">CATEGORY</span><span class="o">=</span>application
<span class="nv">VENDOR</span><span class="o">=</span>&lt;vendor&gt;
<span class="nv">PSTAMP</span><span class="o">=</span><span class="sb">`</span><span class="nb">date</span><span class="sb">`</span>
<span class="nv">EMAIL</span><span class="o">=</span>noreply@bikramjs.in
<span class="nv">BASEDIR</span><span class="o">=</span>&lt;path&gt;
</pre></table></code></div></div><li>Now lets create all the scripts which we will help us automate various steps during installation.<div class="language-sh highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="c"># Copy all your scripts to some temp dir</span>
<span class="nb">cat</span> /path/src/request <span class="o">&gt;</span> <span class="k">${</span><span class="nv">MYAPP_PACKAGE_DIR</span><span class="k">}</span>/request
<span class="nb">cat</span> /path/src/preinstall <span class="o">&gt;</span> <span class="k">${</span><span class="nv">MYAPP_PACKAGE_DIR</span><span class="k">}</span>/preinstall
<span class="nb">cat</span> /path/src/postinstall <span class="o">&gt;</span> <span class="k">${</span><span class="nv">MYAPP_PACKAGE_DIR</span><span class="k">}</span>/postinstall
<span class="nb">cat</span> /path/src/checkinstall <span class="o">&gt;</span> <span class="k">${</span><span class="nv">MYAPP_PACKAGE_DIR</span><span class="k">}</span>/checkinstall
<span class="nb">cat</span> /path/src/preremove <span class="o">&gt;</span> <span class="k">${</span><span class="nv">MYAPP_PACKAGE_DIR</span><span class="k">}</span>/preremove
<span class="nb">cat</span> /path/src/postremove <span class="o">&gt;</span> <span class="k">${</span><span class="nv">MYAPP_PACKAGE_DIR</span><span class="k">}</span>/postremove
<span class="nb">cat</span> /path/src/copyright <span class="o">&gt;</span> <span class="k">${</span><span class="nv">MYAPP_PACKAGE_DIR</span><span class="k">}</span>/copyright <span class="c">#for copyright message</span>
<span class="nb">cat</span> /path/src/depend <span class="o">&gt;</span> <span class="k">${</span><span class="nv">MYAPP_PACKAGE_DIR</span><span class="k">}</span>/depend <span class="c">#for adding package names which are required for your package in format of &lt;type&gt; &lt;pkg.abbr&gt; &lt;name&gt;</span>
</pre></table></code></div></div><p>There are mainly 6 scripts that you can add to your package. There are some other scripts also which are used for patching. Following is brief explaination about those scripts:</p><ul><li><code class="language-plaintext highlighter-rouge">request</code>: To prompt user for input. This script will not be executed if the package is already installed with <code class="language-plaintext highlighter-rouge">instance=overwrite</code> in <code class="language-plaintext highlighter-rouge">/var/sadm/install/admin/default</code> file<li><code class="language-plaintext highlighter-rouge">checkinstall</code>: Used to check whether the package is already installed or the system meets the requirements of package or to configure the installation of your package by setting environment for other scripts.<li><code class="language-plaintext highlighter-rouge">preinstall</code>: Used to configure installation according to the environment set in checkinstall script.<li><code class="language-plaintext highlighter-rouge">postinstall</code>: Used to configure installation after the installation has happened.<li><code class="language-plaintext highlighter-rouge">preremove</code>: Used to execute some pre un-installation commands like removing the new files created by the package which were not part of the package supplied.<li><code class="language-plaintext highlighter-rouge">postremove</code>: Used to execute full cleanup and other system commands like <code class="language-plaintext highlighter-rouge">ldconfig</code> to remove the broken links left by the package removal.</ul><li>Create a <code class="language-plaintext highlighter-rouge">Prototype</code> file for your package to include the files which you want to ship.<div class="language-sh highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>i pkginfo
i preinstall
i postinstall
i checkinstall
i request
i preremove
i postremove
i copyright
i depend
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">i</code> in front of all the scripts indicate that its a installation script. Please check documentation <a href="https://docs.oracle.com/cd/E86824_01/html/E54775/prototype-4.html#REFMAN4prototype-4">here</a> for more info. Now we have a basic <code class="language-plaintext highlighter-rouge">Prototype</code> file with our scripts, copyright message and dependencies. Next we will add our application to the <code class="language-plaintext highlighter-rouge">Prototype</code> file:</p><div class="language-sh highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c"># myapp in the command below is the name of the sub folder which will contain all my files.</span>
pkgproto /path/src/dist<span class="o">=</span>/myapp <span class="o">&gt;&gt;</span> <span class="k">${</span><span class="nv">MYAPP_PACKAGE_DIR</span><span class="k">}</span>/Prototype
</pre></table></code></div></div><li>Create the installable package using <code class="language-plaintext highlighter-rouge">pkgmk</code>. Check <a href="https://docs.oracle.com/cd/E86824_01/html/E54763/pkgmk-1.html#REFMAN1pkgmk-1">here</a> for more information.<div class="language-sh highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>pkgmk <span class="nt">-o</span> <span class="nt">-r</span> / <span class="nt">-d</span> <span class="k">${</span><span class="nv">MYAPP_PACKAGE_DIR</span><span class="k">}</span> <span class="nt">-f</span> <span class="k">${</span><span class="nv">MYAPP_PACKAGE_DIR</span><span class="k">}</span>/Prototype
</pre></table></code></div></div><li>Previous step creates the package in a directory which is not suitable for shiping or downloading from a website. Now we need to translate the package from directory to a data stream file. Check <a href="https://docs.oracle.com/cd/E86824_01/html/E54763/pkgtrans-1.html#REFMAN1pkgtrans-1">here</a> for more info on <code class="language-plaintext highlighter-rouge">pkgtrans</code>.<div class="language-sh highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>pkgtrans <span class="nt">-s</span> <span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span> <span class="k">${</span><span class="nv">MYAPP_PACKAGE_DIR</span><span class="k">}</span>/myapp.pkg myapp
</pre></table></code></div></div></ol><blockquote class="prompt-tip"><ul><li>You can use any temporary directory just replace /tmp with your choice.<li>You can set the file permissions before creating a prototype file.<li>You can use your custom prototype file for file mappings pointing to files in specific directory. for e.g. : <code class="language-plaintext highlighter-rouge">i pkginfo=/home/user/mysrc/pkginfo</code>.<li>You can use your own custom prototype file to define the file permissions also.<li>You can use <code class="language-plaintext highlighter-rouge">-g</code> flag in <code class="language-plaintext highlighter-rouge">pkgtrans</code> command to sign the packages to build trust among your users.</ul></blockquote><h2 id="making-package-relocatable"><span class="me-2">Making package relocatable</span><a href="#making-package-relocatable" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>So far we have see how to create a package on Solaris. Now in order to make it relocatable we need to run few extra steps during the packing process.</p><p>Steps would remain same till <code class="language-plaintext highlighter-rouge">Prototype</code> file generation. After the <code class="language-plaintext highlighter-rouge">Prototype</code> file is generated we need to update our <code class="language-plaintext highlighter-rouge">Prototype</code> to tell it that its a relocatable package and user should be able to install the package at any location they want.</p><ol><li>Lets make the package relocateable<div class="language-sh highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"s:/myapp:</span><span class="se">\$</span><span class="s2">BASEDIR/:g"</span> <span class="k">${</span><span class="nv">MYAPP_PACKAGE_DIR</span><span class="k">}</span>/Prototype <span class="c"># $BASEDIR variable will make sure that package becomes relocateable</span>
</pre></table></code></div></div><li>Now lets create the pkg using <code class="language-plaintext highlighter-rouge">pkgmk</code> command with a value pointing to our package locally.<div class="language-sh highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>pkgmk <span class="nt">-o</span> <span class="nt">-r</span> / <span class="nt">-d</span> <span class="k">${</span><span class="nv">MYAPP_PACKAGE_DIR</span><span class="k">}</span> <span class="nt">-f</span> <span class="k">${</span><span class="nv">MYAPP_PACKAGE_DIR</span><span class="k">}</span>/Prototype <span class="nv">BASEDIR</span><span class="o">=</span>/path/src/dist <span class="c"># BASEDIR here is a varaible</span>
</pre></table></code></div></div><li>Now we can use the <code class="language-plaintext highlighter-rouge">pkgtrans</code> command to convert it to a single file for easy distribution.<div class="language-sh highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>pkgtrans <span class="nt">-s</span> <span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span> <span class="k">${</span><span class="nv">MYAPP_PACKAGE_DIR</span><span class="k">}</span>/myapp.pkg myapp
</pre></table></code></div></div></ol><h2 id="testing"><span class="me-2">Testing</span><a href="#testing" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>To test the package, you can install it on a Solaris machine and use following command to verify if the relocation support we added is working or not. Check <a href="https://docs.oracle.com/cd/E86824_01/html/E54764/pkgadd-1m.html#REFMAN1Mpkgadd-1m">here</a> for all supported options in <code class="language-plaintext highlighter-rouge">pkgadd</code>.</p><div class="language-sh highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>pkgadd –R /opt/installed_myapp myapp.pkg
<span class="nb">ls</span> <span class="nt">-l</span> /opt/installed_myapp/bin/myapp
</pre></table></code></div></div><blockquote class="prompt-info"><p>This is a migration from my original <a href="https://bikramballagan.blogspot.com/2013/03/solaris-package-creation.html">blog post</a></p></blockquote></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/blogs/">blogs</a>, <a href="/categories/tech/">tech</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/solaris/" class="post-tag no-text-decoration" >solaris</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Solaris%20Package%20creation%20with%20relocation%20support%20-%20Bikramjeet%20Singh&url=https%3A%2F%2Fblogs.bikramjs.in%2Fposts%2Fsolaris-packaging%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fa-brands fa-square-x-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Solaris%20Package%20creation%20with%20relocation%20support%20-%20Bikramjeet%20Singh&u=https%3A%2F%2Fblogs.bikramjs.in%2Fposts%2Fsolaris-packaging%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fblogs.bikramjs.in%2Fposts%2Fsolaris-packaging%2F&text=Solaris%20Package%20creation%20with%20relocation%20support%20-%20Bikramjeet%20Singh" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fblogs.bikramjs.in%2Fposts%2Fsolaris-packaging%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/creating-l3-l4-load-balancer/">Let's Balance the load Part 2 - L3/L4</a><li class="text-truncate lh-lg"> <a href="/posts/dev-containers/">Consistent Development environments using devcontainers</a><li class="text-truncate lh-lg"> <a href="/posts/ship-docker-images-to-airgaped-using-rpms/">Ship Docker images to airgapped systems using rpms</a><li class="text-truncate lh-lg"> <a href="/posts/building-gcc-on-solaris/">Building gcc 4.1.2 on Solaris 10</a><li class="text-truncate lh-lg"> <a href="/posts/solaris-packaging/">Solaris Package creation with relocation support</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/loadbalancer/">loadbalancer</a> <a class="post-tag btn btn-outline-primary" href="/tags/networking/">networking</a> <a class="post-tag btn btn-outline-primary" href="/tags/airgapped/">airgapped</a> <a class="post-tag btn btn-outline-primary" href="/tags/docker/">docker</a> <a class="post-tag btn btn-outline-primary" href="/tags/solaris/">solaris</a> <a class="post-tag btn btn-outline-primary" href="/tags/devcontainers/">devcontainers</a> <a class="post-tag btn btn-outline-primary" href="/tags/development/">development</a> <a class="post-tag btn btn-outline-primary" href="/tags/environments/">environments</a> <a class="post-tag btn btn-outline-primary" href="/tags/gcc/">gcc</a> <a class="post-tag btn btn-outline-primary" href="/tags/l3-l4-lb/">l3/l4-lb</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/building-gcc-on-solaris/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1363141800" data-df="ll" > Mar 13, 2013 </time><h4 class="pt-0 my-2">Building gcc 4.1.2 on Solaris 10</h4><div class="text-muted"><p>Compiling `gcc 4.1.2` on Solaris to over come compilation and linking issues faced during porting my C++ application from RHEL.</p></div></div></a></article><article class="col"> <a href="/posts/ship-docker-images-to-airgaped-using-rpms/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1753497000" data-df="ll" > Jul 26, 2025 </time><h4 class="pt-0 my-2">Ship Docker images to airgapped systems using rpms</h4><div class="text-muted"><p>Configuring and managing `docker` images in airgapped system can be challending. Let&#39;s see how we can ease IT Admin&#39;s job by letting them use what they have been using for years now.</p></div></div></a></article><article class="col"> <a href="/posts/ship-docker-images-to-airgaped/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1752805800" data-df="ll" > Jul 18, 2025 </time><h4 class="pt-0 my-2">Ship Docker images to airgapped systems</h4><div class="text-muted"><p>Shipping Docker images to an airgapped system can be challenging due to no internet connectivity. Let see how we can ship `docker` images to an airgapped system.</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/building-gcc-on-solaris/" class="btn btn-outline-primary" aria-label="Older" ><p>Building gcc 4.1.2 on Solaris 10</p></a> <a href="/posts/understanding-load-balancer/" class="btn btn-outline-primary" aria-label="Newer" ><p>Let's Balance the load Part 1</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://github.com/bikram990">Bikramjeet Singh</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/loadbalancer/">loadbalancer</a> <a class="post-tag btn btn-outline-primary" href="/tags/networking/">networking</a> <a class="post-tag btn btn-outline-primary" href="/tags/airgapped/">airgapped</a> <a class="post-tag btn btn-outline-primary" href="/tags/docker/">docker</a> <a class="post-tag btn btn-outline-primary" href="/tags/solaris/">solaris</a> <a class="post-tag btn btn-outline-primary" href="/tags/devcontainers/">devcontainers</a> <a class="post-tag btn btn-outline-primary" href="/tags/development/">development</a> <a class="post-tag btn btn-outline-primary" href="/tags/environments/">environments</a> <a class="post-tag btn btn-outline-primary" href="/tags/gcc/">gcc</a> <a class="post-tag btn btn-outline-primary" href="/tags/l3-l4-lb/">l3/l4-lb</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'bikram990/bikram990.github.io', 'data-repo-id': 'R_kgDOOaJ1uA', 'data-category': 'Q&A', 'data-category-id': 'DIC_kwDOOaJ1uM4CrqHt', 'data-mapping': 'pathname', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'top', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
